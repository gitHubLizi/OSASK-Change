     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_file_search
    23 00000000                                 	EXTERN	_file_loadfile
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_timer_cancel
    26 00000000                                 	EXTERN	_fifo32_put
    27 00000000                                 	EXTERN	_taskctl
    28 00000000                                 	EXTERN	_open_console
    29 00000000                                 	EXTERN	_sheet_slide
    30 00000000                                 	EXTERN	_sheet_updown
    31 00000000                                 	EXTERN	_open_constask
    32 00000000                                 	EXTERN	_set_segmdesc
    33 00000000                                 	EXTERN	_start_app
    34 00000000                                 	EXTERN	_timer_cancelall
    35 00000000                                 	EXTERN	_sheet_free
    36 00000000                                 	EXTERN	_io_in8
    37 00000000                                 	EXTERN	_io_out8
    38 00000000                                 	EXTERN	_timer_free
    39 00000000                                 	EXTERN	_memman_free
    40 00000000                                 	EXTERN	_memman_alloc
    41 00000000                                 	EXTERN	_memman_init
    42 00000000                                 	EXTERN	_putfonts8_asc
    43 00000000                                 	EXTERN	_sheet_alloc
    44 00000000                                 	EXTERN	_sheet_setbuf
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 [FILE "console.c"]
    47                                          [SECTION .text]
    48 00000000                                 	GLOBAL	_console_task
    49 00000000                                 _console_task:
    50 00000000 55                              	PUSH	EBP
    51 00000001 89 E5                           	MOV	EBP,ESP
    52 00000003 57                              	PUSH	EDI
    53 00000004 56                              	PUSH	ESI
    54 00000005 53                              	PUSH	EBX
    55 00000006 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
    56 00000009 83 EC 48                        	SUB	ESP,72
    57 0000000C 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    58 0000000F E8 [00000000]                   	CALL	_task_now
    59 00000014 68 00002D00                     	PUSH	11520
    60 00000019 68 003C0000                     	PUSH	3932160
    61 0000001E 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    62 00000021 E8 [00000000]                   	CALL	_memman_alloc_4k
    63 00000026 85 DB                           	TEST	EBX,EBX
    64 00000028 89 C7                           	MOV	EDI,EAX
    65 0000002A 89 5D D4                        	MOV	DWORD [-44+EBP],EBX
    66 0000002D 8B 45 B0                        	MOV	EAX,DWORD [-80+EBP]
    67 00000030 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    68 00000037 89 B0 000000A4                  	MOV	DWORD [164+EAX],ESI
    69 0000003D 58                              	POP	EAX
    70 0000003E C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    71 00000045 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    72 0000004C 5A                              	POP	EDX
    73 0000004D 74 24                           	JE	L2
    74 0000004F E8 [00000000]                   	CALL	_timer_alloc
    75 00000054 8B 55 B0                        	MOV	EDX,DWORD [-80+EBP]
    76 00000057 6A 01                           	PUSH	1
    77 00000059 83 C2 10                        	ADD	EDX,16
    78 0000005C 52                              	PUSH	EDX
    79 0000005D 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    80 00000060 50                              	PUSH	EAX
    81 00000061 E8 [00000000]                   	CALL	_timer_init
    82 00000066 6A 32                           	PUSH	50
    83 00000068 FF 75 E4                        	PUSH	DWORD [-28+EBP]
    84 0000006B E8 [00000000]                   	CALL	_timer_settime
    85 00000070 83 C4 14                        	ADD	ESP,20
    86 00000073                                 L2:
    87 00000073 68 00100200                     	PUSH	1049088
    88 00000078 57                              	PUSH	EDI
    89 00000079 E8 [00000000]                   	CALL	_file_readfat
    90 0000007E 6A 01                           	PUSH	1
    91 00000080 6A 3E                           	PUSH	62
    92 00000082 56                              	PUSH	ESI
    93 00000083 E8 00000223                     	CALL	_cons_putchar
    94 00000088                                 L27:
    95 00000088 83 C4 14                        	ADD	ESP,20
    96 0000008B                                 L3:
    97 0000008B E8 [00000000]                   	CALL	_io_cli
    98 00000090 8B 5D B0                        	MOV	EBX,DWORD [-80+EBP]
    99 00000093 83 C3 10                        	ADD	EBX,16
   100 00000096 53                              	PUSH	EBX
   101 00000097 E8 [00000000]                   	CALL	_fifo32_status
   102 0000009C 5E                              	POP	ESI
   103 0000009D 85 C0                           	TEST	EAX,EAX
   104 0000009F 0F 84 000001F3                  	JE	L30
   105 000000A5 53                              	PUSH	EBX
   106 000000A6 E8 [00000000]                   	CALL	_fifo32_get
   107 000000AB 89 C6                           	MOV	ESI,EAX
   108 000000AD E8 [00000000]                   	CALL	_io_sti
   109 000000B2 59                              	POP	ECX
   110 000000B3 83 FE 01                        	CMP	ESI,1
   111 000000B6 0F 8E 00000185                  	JLE	L31
   112 000000BC                                 L8:
   113 000000BC 83 FE 02                        	CMP	ESI,2
   114 000000BF 0F 84 00000170                  	JE	L32
   115 000000C5                                 L13:
   116 000000C5 83 FE 03                        	CMP	ESI,3
   117 000000C8 0F 84 00000132                  	JE	L33
   118 000000CE                                 L14:
   119 000000CE 83 FE 04                        	CMP	ESI,4
   120 000000D1 0F 84 00000118                  	JE	L34
   121 000000D7                                 L16:
   122 000000D7 8D 8E FFFFFF00                  	LEA	ECX,DWORD [-256+ESI]
   123 000000DD 89 4D AC                        	MOV	DWORD [-84+EBP],ECX
   124 000000E0 81 F9 000000FF                  	CMP	ECX,255
   125 000000E6 77 48                           	JA	L17
   126 000000E8 81 FE 00000108                  	CMP	ESI,264
   127 000000EE 0F 84 000000DB                  	JE	L35
   128 000000F4 81 FE 0000010A                  	CMP	ESI,266
   129 000000FA 0F 84 00000080                  	JE	L36
   130 00000100 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   131 00000103 81 F9 000000EF                  	CMP	ECX,239
   132 00000109 7F 25                           	JG	L17
   133 0000010B 89 C8                           	MOV	EAX,ECX
   134 0000010D BA 00000008                     	MOV	EDX,8
   135 00000112 89 D3                           	MOV	EBX,EDX
   136 00000114 6A 01                           	PUSH	1
   137 00000116 99                              	CDQ
   138 00000117 F7 FB                           	IDIV	EBX
   139 00000119 89 C1                           	MOV	ECX,EAX
   140 0000011B 89 F0                           	MOV	EAX,ESI
   141 0000011D 88 44 0D B2                     	MOV	BYTE [-78+EBP+ECX*1],AL
   142 00000121 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   143 00000124 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   144 00000127 50                              	PUSH	EAX
   145 00000128                                 L28:
   146 00000128 E8 0000017E                     	CALL	_cons_putchar
   147 0000012D                                 L29:
   148 0000012D 83 C4 0C                        	ADD	ESP,12
   149 00000130                                 L17:
   150 00000130 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   151 00000133 85 DB                           	TEST	EBX,EBX
   152 00000135 0F 84 FFFFFF50                  	JE	L3
   153 0000013B 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   154 0000013F 78 22                           	JS	L26
   155 00000141 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   156 00000144 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   157 00000147 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   158 0000014A 50                              	PUSH	EAX
   159 0000014B 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   160 0000014E 50                              	PUSH	EAX
   161 0000014F 51                              	PUSH	ECX
   162 00000150 52                              	PUSH	EDX
   163 00000151 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   164 00000155 50                              	PUSH	EAX
   165 00000156 FF 73 04                        	PUSH	DWORD [4+EBX]
   166 00000159 FF 33                           	PUSH	DWORD [EBX]
   167 0000015B E8 [00000000]                   	CALL	_boxfill8
   168 00000160 83 C4 1C                        	ADD	ESP,28
   169 00000163                                 L26:
   170 00000163 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   171 00000166 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   172 00000169 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   173 0000016C 50                              	PUSH	EAX
   174 0000016D 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   175 00000170 50                              	PUSH	EAX
   176 00000171 51                              	PUSH	ECX
   177 00000172 52                              	PUSH	EDX
   178 00000173 FF 75 D4                        	PUSH	DWORD [-44+EBP]
   179 00000176 E8 [00000000]                   	CALL	_sheet_refresh
   180 0000017B E9 FFFFFF08                     	JMP	L27
   181 00000180                                 L36:
   182 00000180 6A 00                           	PUSH	0
   183 00000182 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   184 00000185 6A 20                           	PUSH	32
   185 00000187 53                              	PUSH	EBX
   186 00000188 E8 0000011E                     	CALL	_cons_putchar
   187 0000018D 53                              	PUSH	EBX
   188 0000018E 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   189 00000191 BA 00000008                     	MOV	EDX,8
   190 00000196 89 D1                           	MOV	ECX,EDX
   191 00000198 99                              	CDQ
   192 00000199 F7 F9                           	IDIV	ECX
   193 0000019B C6 44 05 B2 00                  	MOV	BYTE [-78+EBP+EAX*1],0
   194 000001A0 E8 000001BD                     	CALL	_cons_newline
   195 000001A5 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   196 000001A8 FF 75 0C                        	PUSH	DWORD [12+EBP]
   197 000001AB 57                              	PUSH	EDI
   198 000001AC 53                              	PUSH	EBX
   199 000001AD 50                              	PUSH	EAX
   200 000001AE E8 000002D1                     	CALL	_cons_runcmd
   201 000001B3 83 C4 20                        	ADD	ESP,32
   202 000001B6 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   203 000001BA 75 09                           	JNE	L22
   204 000001BC 57                              	PUSH	EDI
   205 000001BD 53                              	PUSH	EBX
   206 000001BE E8 0000061D                     	CALL	_cmd_exit
   207 000001C3 58                              	POP	EAX
   208 000001C4 5A                              	POP	EDX
   209 000001C5                                 L22:
   210 000001C5 6A 01                           	PUSH	1
   211 000001C7 6A 3E                           	PUSH	62
   212 000001C9 53                              	PUSH	EBX
   213 000001CA E9 FFFFFF59                     	JMP	L28
   214 000001CF                                 L35:
   215 000001CF 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   216 000001D3 0F 8E FFFFFF57                  	JLE	L17
   217 000001D9 6A 00                           	PUSH	0
   218 000001DB 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   219 000001DE 6A 20                           	PUSH	32
   220 000001E0 50                              	PUSH	EAX
   221 000001E1 E8 000000C5                     	CALL	_cons_putchar
   222 000001E6 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   223 000001EA E9 FFFFFF3E                     	JMP	L29
   224 000001EF                                 L34:
   225 000001EF 57                              	PUSH	EDI
   226 000001F0 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   227 000001F3 50                              	PUSH	EAX
   228 000001F4 E8 000005E7                     	CALL	_cmd_exit
   229 000001F9 59                              	POP	ECX
   230 000001FA 5B                              	POP	EBX
   231 000001FB E9 FFFFFED7                     	JMP	L16
   232 00000200                                 L33:
   233 00000200 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   234 00000203 85 DB                           	TEST	EBX,EBX
   235 00000205 74 22                           	JE	L15
   236 00000207 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   237 0000020A 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   238 0000020D 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   239 00000210 50                              	PUSH	EAX
   240 00000211 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   241 00000214 50                              	PUSH	EAX
   242 00000215 51                              	PUSH	ECX
   243 00000216 52                              	PUSH	EDX
   244 00000217 68 000000D8                     	PUSH	216
   245 0000021C FF 73 04                        	PUSH	DWORD [4+EBX]
   246 0000021F FF 33                           	PUSH	DWORD [EBX]
   247 00000221 E8 [00000000]                   	CALL	_boxfill8
   248 00000226 83 C4 1C                        	ADD	ESP,28
   249 00000229                                 L15:
   250 00000229 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   251 00000230 E9 FFFFFE99                     	JMP	L14
   252 00000235                                 L32:
   253 00000235 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   254 0000023C E9 FFFFFE84                     	JMP	L13
   255 00000241                                 L31:
   256 00000241 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   257 00000245 0F 84 FFFFFE71                  	JE	L8
   258 0000024B 85 F6                           	TEST	ESI,ESI
   259 0000024D 74 2C                           	JE	L9
   260 0000024F 6A 00                           	PUSH	0
   261 00000251 53                              	PUSH	EBX
   262 00000252 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   263 00000255 E8 [00000000]                   	CALL	_timer_init
   264 0000025A 83 C4 0C                        	ADD	ESP,12
   265 0000025D 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   266 00000261 78 07                           	JS	L11
   267 00000263 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   268 0000026A                                 L11:
   269 0000026A 6A 32                           	PUSH	50
   270 0000026C FF 75 E4                        	PUSH	DWORD [-28+EBP]
   271 0000026F E8 [00000000]                   	CALL	_timer_settime
   272 00000274 58                              	POP	EAX
   273 00000275 5A                              	POP	EDX
   274 00000276 E9 FFFFFE41                     	JMP	L8
   275 0000027B                                 L9:
   276 0000027B 6A 01                           	PUSH	1
   277 0000027D 53                              	PUSH	EBX
   278 0000027E FF 75 E4                        	PUSH	DWORD [-28+EBP]
   279 00000281 E8 [00000000]                   	CALL	_timer_init
   280 00000286 83 C4 0C                        	ADD	ESP,12
   281 00000289 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   282 0000028D 78 DB                           	JS	L11
   283 0000028F C7 45 E0 000000D8               	MOV	DWORD [-32+EBP],216
   284 00000296 EB D2                           	JMP	L11
   285 00000298                                 L30:
   286 00000298 FF 75 B0                        	PUSH	DWORD [-80+EBP]
   287 0000029B E8 [00000000]                   	CALL	_task_sleep
   288 000002A0 E8 [00000000]                   	CALL	_io_sti
   289 000002A5 5B                              	POP	EBX
   290 000002A6 E9 FFFFFDE0                     	JMP	L3
   291                                          [SECTION .data]
   292 00000000                                 LC0:
   293 00000000 20 00                           	DB	" ",0x00
   294                                          [SECTION .text]
   295 000002AB                                 	GLOBAL	_cons_putchar
   296 000002AB                                 _cons_putchar:
   297 000002AB 55                              	PUSH	EBP
   298 000002AC 89 E5                           	MOV	EBP,ESP
   299 000002AE 53                              	PUSH	EBX
   300 000002AF 50                              	PUSH	EAX
   301 000002B0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   302 000002B3 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   303 000002B6 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   304 000002B9 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   305 000002BC 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   306 000002BF 3C 09                           	CMP	AL,9
   307 000002C1 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   308 000002C5 74 50                           	JE	L39
   309 000002C7 3C 0A                           	CMP	AL,10
   310 000002C9 74 25                           	JE	L53
   311 000002CB 3C 0D                           	CMP	AL,13
   312 000002CD 74 1C                           	JE	L37
   313 000002CF 8B 13                           	MOV	EDX,DWORD [EBX]
   314 000002D1 85 D2                           	TEST	EDX,EDX
   315 000002D3 75 24                           	JNE	L54
   316 000002D5                                 L50:
   317 000002D5 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   318 000002D9 74 10                           	JE	L37
   319 000002DB 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   320 000002DE 83 C0 08                        	ADD	EAX,8
   321 000002E1 89 43 04                        	MOV	DWORD [4+EBX],EAX
   322 000002E4 3D 000000F8                     	CMP	EAX,248
   323 000002E9 74 05                           	JE	L53
   324 000002EB                                 L37:
   325 000002EB 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   326 000002EE C9                              	LEAVE
   327 000002EF C3                              	RET
   328 000002F0                                 L53:
   329 000002F0 53                              	PUSH	EBX
   330 000002F1 E8 0000006C                     	CALL	_cons_newline
   331 000002F6 59                              	POP	ECX
   332 000002F7 EB F2                           	JMP	L37
   333 000002F9                                 L54:
   334 000002F9 6A 01                           	PUSH	1
   335 000002FB 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   336 000002FE 50                              	PUSH	EAX
   337 000002FF 68 000000D8                     	PUSH	216
   338 00000304 6A 00                           	PUSH	0
   339 00000306 FF 73 08                        	PUSH	DWORD [8+EBX]
   340 00000309 FF 73 04                        	PUSH	DWORD [4+EBX]
   341 0000030C 52                              	PUSH	EDX
   342 0000030D E8 [00000000]                   	CALL	_putfonts8_asc_sht
   343 00000312 83 C4 1C                        	ADD	ESP,28
   344 00000315 EB BE                           	JMP	L50
   345 00000317                                 L39:
   346 00000317 8B 03                           	MOV	EAX,DWORD [EBX]
   347 00000319 85 C0                           	TEST	EAX,EAX
   348 0000031B 75 26                           	JNE	L55
   349 0000031D                                 L42:
   350 0000031D 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   351 00000320 83 C0 08                        	ADD	EAX,8
   352 00000323 89 43 04                        	MOV	DWORD [4+EBX],EAX
   353 00000326 3D 000000F8                     	CMP	EAX,248
   354 0000032B 74 0D                           	JE	L56
   355 0000032D                                 L43:
   356 0000032D 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   357 00000330 83 E8 08                        	SUB	EAX,8
   358 00000333 83 E0 1F                        	AND	EAX,31
   359 00000336 75 DF                           	JNE	L39
   360 00000338 EB B1                           	JMP	L37
   361 0000033A                                 L56:
   362 0000033A 53                              	PUSH	EBX
   363 0000033B E8 00000022                     	CALL	_cons_newline
   364 00000340 58                              	POP	EAX
   365 00000341 EB EA                           	JMP	L43
   366 00000343                                 L55:
   367 00000343 6A 01                           	PUSH	1
   368 00000345 68 [00000000]                   	PUSH	LC0
   369 0000034A 68 000000D8                     	PUSH	216
   370 0000034F 6A 00                           	PUSH	0
   371 00000351 FF 73 08                        	PUSH	DWORD [8+EBX]
   372 00000354 FF 73 04                        	PUSH	DWORD [4+EBX]
   373 00000357 50                              	PUSH	EAX
   374 00000358 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   375 0000035D 83 C4 1C                        	ADD	ESP,28
   376 00000360 EB BB                           	JMP	L42
   377 00000362                                 	GLOBAL	_cons_newline
   378 00000362                                 _cons_newline:
   379 00000362 55                              	PUSH	EBP
   380 00000363 89 E5                           	MOV	EBP,ESP
   381 00000365 57                              	PUSH	EDI
   382 00000366 56                              	PUSH	ESI
   383 00000367 53                              	PUSH	EBX
   384 00000368 50                              	PUSH	EAX
   385 00000369 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   386 0000036C 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   387 0000036F 8B 00                           	MOV	EAX,DWORD [EAX]
   388 00000371 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   389 00000374 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   390 00000377 3D 0000008B                     	CMP	EAX,139
   391 0000037C 7F 18                           	JG	L58
   392 0000037E 83 C0 10                        	ADD	EAX,16
   393 00000381 89 42 08                        	MOV	DWORD [8+EDX],EAX
   394 00000384                                 L59:
   395 00000384 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   396 00000387 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   397 0000038E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   398 00000391 5B                              	POP	EBX
   399 00000392 5E                              	POP	ESI
   400 00000393 5F                              	POP	EDI
   401 00000394 5D                              	POP	EBP
   402 00000395 C3                              	RET
   403 00000396                                 L58:
   404 00000396 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   405 0000039A 74 E8                           	JE	L59
   406 0000039C BF 0000001C                     	MOV	EDI,28
   407 000003A1                                 L70:
   408 000003A1 BE 00000008                     	MOV	ESI,8
   409 000003A6                                 L69:
   410 000003A6 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   411 000003A9 89 FA                           	MOV	EDX,EDI
   412 000003AB 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   413 000003AE 8B 18                           	MOV	EBX,DWORD [EAX]
   414 000003B0 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   415 000003B3 0F AF C1                        	IMUL	EAX,ECX
   416 000003B6 0F AF D1                        	IMUL	EDX,ECX
   417 000003B9 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   418 000003BC 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   419 000003BF 46                              	INC	ESI
   420 000003C0 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   421 000003C3 81 FE 000000F7                  	CMP	ESI,247
   422 000003C9 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   423 000003CC 7E D8                           	JLE	L69
   424 000003CE 47                              	INC	EDI
   425 000003CF 81 FF 0000008B                  	CMP	EDI,139
   426 000003D5 7E CA                           	JLE	L70
   427 000003D7 BF 0000008C                     	MOV	EDI,140
   428 000003DC                                 L80:
   429 000003DC BE 00000008                     	MOV	ESI,8
   430 000003E1                                 L79:
   431 000003E1 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   432 000003E4 89 F8                           	MOV	EAX,EDI
   433 000003E6 89 D1                           	MOV	ECX,EDX
   434 000003E8 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   435 000003EC 8B 12                           	MOV	EDX,DWORD [EDX]
   436 000003EE 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   437 000003F1 46                              	INC	ESI
   438 000003F2 81 FE 000000F7                  	CMP	ESI,247
   439 000003F8 C6 04 10 D8                     	MOV	BYTE [EAX+EDX*1],-40
   440 000003FC 7E E3                           	JLE	L79
   441 000003FE 47                              	INC	EDI
   442 000003FF 81 FF 0000009B                  	CMP	EDI,155
   443 00000405 7E D5                           	JLE	L80
   444 00000407 68 0000009C                     	PUSH	156
   445 0000040C 68 000000F8                     	PUSH	248
   446 00000411 6A 1C                           	PUSH	28
   447 00000413 6A 08                           	PUSH	8
   448 00000415 51                              	PUSH	ECX
   449 00000416 E8 [00000000]                   	CALL	_sheet_refresh
   450 0000041B 83 C4 14                        	ADD	ESP,20
   451 0000041E E9 FFFFFF61                     	JMP	L59
   452 00000423                                 	GLOBAL	_cons_putstr0
   453 00000423                                 _cons_putstr0:
   454 00000423 55                              	PUSH	EBP
   455 00000424 89 E5                           	MOV	EBP,ESP
   456 00000426 56                              	PUSH	ESI
   457 00000427 53                              	PUSH	EBX
   458 00000428 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   459 0000042B 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   460 0000042E 80 3B 00                        	CMP	BYTE [EBX],0
   461 00000431 75 07                           	JNE	L94
   462 00000433                                 L96:
   463 00000433 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   464 00000436 5B                              	POP	EBX
   465 00000437 5E                              	POP	ESI
   466 00000438 5D                              	POP	EBP
   467 00000439 C3                              	RET
   468 0000043A                                 L94:
   469 0000043A 6A 01                           	PUSH	1
   470 0000043C 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   471 0000043F 50                              	PUSH	EAX
   472 00000440 43                              	INC	EBX
   473 00000441 56                              	PUSH	ESI
   474 00000442 E8 FFFFFE64                     	CALL	_cons_putchar
   475 00000447 83 C4 0C                        	ADD	ESP,12
   476 0000044A 80 3B 00                        	CMP	BYTE [EBX],0
   477 0000044D 75 EB                           	JNE	L94
   478 0000044F EB E2                           	JMP	L96
   479 00000451                                 	GLOBAL	_cons_putstr1
   480 00000451                                 _cons_putstr1:
   481 00000451 55                              	PUSH	EBP
   482 00000452 89 E5                           	MOV	EBP,ESP
   483 00000454 57                              	PUSH	EDI
   484 00000455 56                              	PUSH	ESI
   485 00000456 53                              	PUSH	EBX
   486 00000457 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   487 0000045A 31 DB                           	XOR	EBX,EBX
   488 0000045C 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   489 0000045F 39 F3                           	CMP	EBX,ESI
   490 00000461 7C 08                           	JL	L102
   491 00000463                                 L104:
   492 00000463 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   493 00000466 5B                              	POP	EBX
   494 00000467 5E                              	POP	ESI
   495 00000468 5F                              	POP	EDI
   496 00000469 5D                              	POP	EBP
   497 0000046A C3                              	RET
   498 0000046B                                 L102:
   499 0000046B 6A 01                           	PUSH	1
   500 0000046D 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   501 00000471 50                              	PUSH	EAX
   502 00000472 43                              	INC	EBX
   503 00000473 FF 75 08                        	PUSH	DWORD [8+EBP]
   504 00000476 E8 FFFFFE30                     	CALL	_cons_putchar
   505 0000047B 83 C4 0C                        	ADD	ESP,12
   506 0000047E 39 F3                           	CMP	EBX,ESI
   507 00000480 7C E9                           	JL	L102
   508 00000482 EB DF                           	JMP	L104
   509                                          [SECTION .data]
   510 00000002                                 LC1:
   511 00000002 6D 65 6D 00                     	DB	"mem",0x00
   512 00000006                                 LC2:
   513 00000006 63 6C 73 00                     	DB	"cls",0x00
   514 0000000A                                 LC3:
   515 0000000A 64 69 72 00                     	DB	"dir",0x00
   516 0000000E                                 LC4:
   517 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   518 00000014                                 LC5:
   519 00000014 65 78 69 74 00                  	DB	"exit",0x00
   520 00000019                                 LC6:
   521 00000019 73 74 61 72 74 20 00            	DB	"start ",0x00
   522 00000020                                 LC7:
   523 00000020 6E 63 73 74 20 00               	DB	"ncst ",0x00
   524 00000026                                 LC8:
   525 00000026 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000030 64 2E 0A 0A 00 
   526                                          [SECTION .text]
   527 00000484                                 	GLOBAL	_cons_runcmd
   528 00000484                                 _cons_runcmd:
   529 00000484 55                              	PUSH	EBP
   530 00000485 89 E5                           	MOV	EBP,ESP
   531 00000487 57                              	PUSH	EDI
   532 00000488 56                              	PUSH	ESI
   533 00000489 BF [00000002]                   	MOV	EDI,LC1
   534 0000048E 53                              	PUSH	EBX
   535 0000048F 83 EC 0C                        	SUB	ESP,12
   536 00000492 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   537 00000495 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   538 00000498 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   539 0000049B 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   540 0000049E 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   541 000004A1 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   542 000004A4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   543 000004A7 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   544 000004AA B8 00000004                     	MOV	EAX,4
   545 000004AF FC                              	CLD
   546 000004B0 89 C1                           	MOV	ECX,EAX
   547 000004B2 F3                              	REPE
   548 000004B3 A6                              	CMPSB
   549 000004B4 75 09                           	JNE	L106
   550 000004B6 83 3B 00                        	CMP	DWORD [EBX],0
   551 000004B9 0F 85 0000014F                  	JNE	L122
   552 000004BF                                 L106:
   553 000004BF B8 00000004                     	MOV	EAX,4
   554 000004C4 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   555 000004C7 FC                              	CLD
   556 000004C8 BF [00000006]                   	MOV	EDI,LC2
   557 000004CD 89 C1                           	MOV	ECX,EAX
   558 000004CF F3                              	REPE
   559 000004D0 A6                              	CMPSB
   560 000004D1 75 09                           	JNE	L108
   561 000004D3 83 3B 00                        	CMP	DWORD [EBX],0
   562 000004D6 0F 85 00000126                  	JNE	L123
   563 000004DC                                 L108:
   564 000004DC B8 00000004                     	MOV	EAX,4
   565 000004E1 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   566 000004E4 FC                              	CLD
   567 000004E5 BF [0000000A]                   	MOV	EDI,LC3
   568 000004EA 89 C1                           	MOV	ECX,EAX
   569 000004EC F3                              	REPE
   570 000004ED A6                              	CMPSB
   571 000004EE 75 09                           	JNE	L110
   572 000004F0 83 3B 00                        	CMP	DWORD [EBX],0
   573 000004F3 0F 85 000000FA                  	JNE	L124
   574 000004F9                                 L110:
   575 000004F9 B8 00000005                     	MOV	EAX,5
   576 000004FE 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   577 00000501 FC                              	CLD
   578 00000502 BF [0000000E]                   	MOV	EDI,LC4
   579 00000507 89 C1                           	MOV	ECX,EAX
   580 00000509 F3                              	REPE
   581 0000050A A6                              	CMPSB
   582 0000050B 75 09                           	JNE	L112
   583 0000050D 83 3B 00                        	CMP	DWORD [EBX],0
   584 00000510 0F 85 000000C2                  	JNE	L125
   585 00000516                                 L112:
   586 00000516 B8 00000005                     	MOV	EAX,5
   587 0000051B 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   588 0000051E FC                              	CLD
   589 0000051F BF [00000014]                   	MOV	EDI,LC5
   590 00000524 89 C1                           	MOV	ECX,EAX
   591 00000526 F3                              	REPE
   592 00000527 A6                              	CMPSB
   593 00000528 0F 84 00000095                  	JE	L126
   594 0000052E B8 00000006                     	MOV	EAX,6
   595 00000533 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   596 00000536 FC                              	CLD
   597 00000537 BF [00000019]                   	MOV	EDI,LC6
   598 0000053C 89 C1                           	MOV	ECX,EAX
   599 0000053E F3                              	REPE
   600 0000053F A6                              	CMPSB
   601 00000540 74 66                           	JE	L127
   602 00000542 B8 00000005                     	MOV	EAX,5
   603 00000547 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   604 0000054A FC                              	CLD
   605 0000054B BF [00000020]                   	MOV	EDI,LC7
   606 00000550 89 C1                           	MOV	ECX,EAX
   607 00000552 F3                              	REPE
   608 00000553 A6                              	CMPSB
   609 00000554 74 37                           	JE	L128
   610 00000556 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   611 00000559 80 38 00                        	CMP	BYTE [EAX],0
   612 0000055C 75 08                           	JNE	L129
   613 0000055E                                 L105:
   614 0000055E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   615 00000561 5B                              	POP	EBX
   616 00000562 5E                              	POP	ESI
   617 00000563 5F                              	POP	EDI
   618 00000564 5D                              	POP	EBP
   619 00000565 C3                              	RET
   620 00000566                                 L129:
   621 00000566 50                              	PUSH	EAX
   622 00000567 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   623 0000056A 53                              	PUSH	EBX
   624 0000056B E8 000003F6                     	CALL	_cmd_app
   625 00000570 83 C4 0C                        	ADD	ESP,12
   626 00000573 85 C0                           	TEST	EAX,EAX
   627 00000575 75 E7                           	JNE	L105
   628 00000577 C7 45 0C [00000026]             	MOV	DWORD [12+EBP],LC8
   629 0000057E 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   630 00000581 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   631 00000584 5B                              	POP	EBX
   632 00000585 5E                              	POP	ESI
   633 00000586 5F                              	POP	EDI
   634 00000587 5D                              	POP	EBP
   635 00000588 E9 FFFFFE96                     	JMP	_cons_putstr0
   636 0000058D                                 L128:
   637 0000058D 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   638 00000590 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   639 00000593 89 45 10                        	MOV	DWORD [16+EBP],EAX
   640 00000596 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   641 00000599 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   642 0000059C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   643 0000059F 5B                              	POP	EBX
   644 000005A0 5E                              	POP	ESI
   645 000005A1 5F                              	POP	EDI
   646 000005A2 5D                              	POP	EBP
   647 000005A3 E9 0000035A                     	JMP	_cmd_ncst
   648 000005A8                                 L127:
   649 000005A8 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   650 000005AB 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   651 000005AE 89 45 10                        	MOV	DWORD [16+EBP],EAX
   652 000005B1 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   653 000005B4 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   654 000005B7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   655 000005BA 5B                              	POP	EBX
   656 000005BB 5E                              	POP	ESI
   657 000005BC 5F                              	POP	EDI
   658 000005BD 5D                              	POP	EBP
   659 000005BE E9 000002B5                     	JMP	_cmd_start
   660 000005C3                                 L126:
   661 000005C3 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   662 000005C6 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   663 000005C9 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   664 000005CC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   665 000005CF 5B                              	POP	EBX
   666 000005D0 5E                              	POP	ESI
   667 000005D1 5F                              	POP	EDI
   668 000005D2 5D                              	POP	EBP
   669 000005D3 E9 00000208                     	JMP	_cmd_exit
   670 000005D8                                 L125:
   671 000005D8 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   672 000005DB 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   673 000005DE 89 45 10                        	MOV	DWORD [16+EBP],EAX
   674 000005E1 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   675 000005E4 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   676 000005E7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   677 000005EA 5B                              	POP	EBX
   678 000005EB 5E                              	POP	ESI
   679 000005EC 5F                              	POP	EDI
   680 000005ED 5D                              	POP	EBP
   681 000005EE E9 0000015D                     	JMP	_cmd_type
   682 000005F3                                 L124:
   683 000005F3 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   684 000005F6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   685 000005F9 5B                              	POP	EBX
   686 000005FA 5E                              	POP	ESI
   687 000005FB 5F                              	POP	EDI
   688 000005FC 5D                              	POP	EBP
   689 000005FD E9 000000B8                     	JMP	_cmd_dir
   690 00000602                                 L123:
   691 00000602 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   692 00000605 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   693 00000608 5B                              	POP	EBX
   694 00000609 5E                              	POP	ESI
   695 0000060A 5F                              	POP	EDI
   696 0000060B 5D                              	POP	EBP
   697 0000060C EB 53                           	JMP	_cmd_cls
   698 0000060E                                 L122:
   699 0000060E 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   700 00000611 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   701 00000614 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   702 00000617 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   703 0000061A 5B                              	POP	EBX
   704 0000061B 5E                              	POP	ESI
   705 0000061C 5F                              	POP	EDI
   706 0000061D 5D                              	POP	EBP
   707 0000061E EB 00                           	JMP	_cmd_mem
   708                                          [SECTION .data]
   709 00000035                                 LC9:
   710 00000035 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000003F 4D 42 0A 66 72 65 65 20 25 64 
       00000049 4B 42 0A 0A 00 
   711                                          [SECTION .text]
   712 00000620                                 	GLOBAL	_cmd_mem
   713 00000620                                 _cmd_mem:
   714 00000620 55                              	PUSH	EBP
   715 00000621 89 E5                           	MOV	EBP,ESP
   716 00000623 53                              	PUSH	EBX
   717 00000624 83 EC 40                        	SUB	ESP,64
   718 00000627 68 003C0000                     	PUSH	3932160
   719 0000062C E8 [00000000]                   	CALL	_memman_total
   720 00000631 BA 00100000                     	MOV	EDX,1048576
   721 00000636 C1 E8 0A                        	SHR	EAX,10
   722 00000639 89 D3                           	MOV	EBX,EDX
   723 0000063B 89 04 24                        	MOV	DWORD [ESP],EAX
   724 0000063E 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   725 00000641 99                              	CDQ
   726 00000642 F7 FB                           	IDIV	EBX
   727 00000644 50                              	PUSH	EAX
   728 00000645 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   729 00000648 68 [00000035]                   	PUSH	LC9
   730 0000064D 53                              	PUSH	EBX
   731 0000064E E8 [00000000]                   	CALL	_sprintf
   732 00000653 53                              	PUSH	EBX
   733 00000654 FF 75 08                        	PUSH	DWORD [8+EBP]
   734 00000657 E8 FFFFFDC7                     	CALL	_cons_putstr0
   735 0000065C 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   736 0000065F C9                              	LEAVE
   737 00000660 C3                              	RET
   738 00000661                                 	GLOBAL	_cmd_cls
   739 00000661                                 _cmd_cls:
   740 00000661 55                              	PUSH	EBP
   741 00000662 89 E5                           	MOV	EBP,ESP
   742 00000664 57                              	PUSH	EDI
   743 00000665 56                              	PUSH	ESI
   744 00000666 BE 0000001C                     	MOV	ESI,28
   745 0000066B 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   746 0000066E 53                              	PUSH	EBX
   747 0000066F 8B 1F                           	MOV	EBX,DWORD [EDI]
   748 00000671                                 L141:
   749 00000671 B9 00000008                     	MOV	ECX,8
   750 00000676                                 L140:
   751 00000676 89 F0                           	MOV	EAX,ESI
   752 00000678 8B 13                           	MOV	EDX,DWORD [EBX]
   753 0000067A 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   754 0000067E 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   755 00000681 41                              	INC	ECX
   756 00000682 81 F9 000000F7                  	CMP	ECX,247
   757 00000688 C6 04 10 D8                     	MOV	BYTE [EAX+EDX*1],-40
   758 0000068C 7E E8                           	JLE	L140
   759 0000068E 46                              	INC	ESI
   760 0000068F 81 FE 0000009B                  	CMP	ESI,155
   761 00000695 7E DA                           	JLE	L141
   762 00000697 68 0000009C                     	PUSH	156
   763 0000069C 68 000000F8                     	PUSH	248
   764 000006A1 6A 1C                           	PUSH	28
   765 000006A3 6A 08                           	PUSH	8
   766 000006A5 53                              	PUSH	EBX
   767 000006A6 E8 [00000000]                   	CALL	_sheet_refresh
   768 000006AB C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   769 000006B2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   770 000006B5 5B                              	POP	EBX
   771 000006B6 5E                              	POP	ESI
   772 000006B7 5F                              	POP	EDI
   773 000006B8 5D                              	POP	EBP
   774 000006B9 C3                              	RET
   775                                          [SECTION .data]
   776 0000004E                                 LC10:
   777 0000004E 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000058 78 74 20 20 20 25 37 64 0A 00 
   778                                          [SECTION .text]
   779 000006BA                                 	GLOBAL	_cmd_dir
   780 000006BA                                 _cmd_dir:
   781 000006BA 55                              	PUSH	EBP
   782 000006BB 89 E5                           	MOV	EBP,ESP
   783 000006BD 57                              	PUSH	EDI
   784 000006BE 56                              	PUSH	ESI
   785 000006BF 31 F6                           	XOR	ESI,ESI
   786 000006C1 53                              	PUSH	EBX
   787 000006C2 31 DB                           	XOR	EBX,EBX
   788 000006C4 83 EC 20                        	SUB	ESP,32
   789 000006C7 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   790 000006CA                                 L159:
   791 000006CA 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   792 000006D0 84 C0                           	TEST	AL,AL
   793 000006D2 74 19                           	JE	L148
   794 000006D4 3C E5                           	CMP	AL,-27
   795 000006D6 74 09                           	JE	L149
   796 000006D8 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   797 000006DF 74 1A                           	JE	L163
   798 000006E1                                 L149:
   799 000006E1 46                              	INC	ESI
   800 000006E2 83 C3 20                        	ADD	EBX,32
   801 000006E5 81 FE 000000DF                  	CMP	ESI,223
   802 000006EB 7E DD                           	JLE	L159
   803 000006ED                                 L148:
   804 000006ED 57                              	PUSH	EDI
   805 000006EE E8 FFFFFC6F                     	CALL	_cons_newline
   806 000006F3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   807 000006F6 5B                              	POP	EBX
   808 000006F7 5E                              	POP	ESI
   809 000006F8 5F                              	POP	EDI
   810 000006F9 5D                              	POP	EBP
   811 000006FA C3                              	RET
   812 000006FB                                 L163:
   813 000006FB FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   814 00000701 68 [0000004E]                   	PUSH	LC10
   815 00000706 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   816 00000709 50                              	PUSH	EAX
   817 0000070A E8 [00000000]                   	CALL	_sprintf
   818 0000070F 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   819 00000715 31 C9                           	XOR	ECX,ECX
   820 00000717 83 C4 0C                        	ADD	ESP,12
   821 0000071A                                 L158:
   822 0000071A 8A 02                           	MOV	AL,BYTE [EDX]
   823 0000071C 42                              	INC	EDX
   824 0000071D 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   825 00000721 41                              	INC	ECX
   826 00000722 83 F9 07                        	CMP	ECX,7
   827 00000725 7E F3                           	JLE	L158
   828 00000727 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   829 0000072D 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   830 00000730 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   831 00000736 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   832 00000739 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   833 0000073F 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   834 00000742 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   835 00000745 50                              	PUSH	EAX
   836 00000746 57                              	PUSH	EDI
   837 00000747 E8 FFFFFCD7                     	CALL	_cons_putstr0
   838 0000074C 58                              	POP	EAX
   839 0000074D 5A                              	POP	EDX
   840 0000074E EB 91                           	JMP	L149
   841                                          [SECTION .data]
   842 00000062                                 LC11:
   843 00000062 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000006C 6F 75 6E 64 2E 0A 00 
   844                                          [SECTION .text]
   845 00000750                                 	GLOBAL	_cmd_type
   846 00000750                                 _cmd_type:
   847 00000750 55                              	PUSH	EBP
   848 00000751 89 E5                           	MOV	EBP,ESP
   849 00000753 57                              	PUSH	EDI
   850 00000754 56                              	PUSH	ESI
   851 00000755 53                              	PUSH	EBX
   852 00000756 56                              	PUSH	ESI
   853 00000757 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   854 0000075A 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   855 0000075D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   856 00000760 68 000000E0                     	PUSH	224
   857 00000765 68 00102600                     	PUSH	1058304
   858 0000076A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   859 0000076D 83 C0 05                        	ADD	EAX,5
   860 00000770 50                              	PUSH	EAX
   861 00000771 E8 [00000000]                   	CALL	_file_search
   862 00000776 83 C4 0C                        	ADD	ESP,12
   863 00000779 89 C6                           	MOV	ESI,EAX
   864 0000077B 85 C0                           	TEST	EAX,EAX
   865 0000077D 74 52                           	JE	L165
   866 0000077F FF 70 1C                        	PUSH	DWORD [28+EAX]
   867 00000782 68 003C0000                     	PUSH	3932160
   868 00000787 E8 [00000000]                   	CALL	_memman_alloc_4k
   869 0000078C 68 00103E00                     	PUSH	1064448
   870 00000791 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   871 00000794 50                              	PUSH	EAX
   872 00000795 89 C3                           	MOV	EBX,EAX
   873 00000797 FF 76 1C                        	PUSH	DWORD [28+ESI]
   874 0000079A 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   875 0000079E 50                              	PUSH	EAX
   876 0000079F E8 [00000000]                   	CALL	_file_loadfile
   877 000007A4 FF 76 1C                        	PUSH	DWORD [28+ESI]
   878 000007A7 53                              	PUSH	EBX
   879 000007A8 57                              	PUSH	EDI
   880 000007A9 E8 FFFFFCA3                     	CALL	_cons_putstr1
   881 000007AE 83 C4 28                        	ADD	ESP,40
   882 000007B1 FF 76 1C                        	PUSH	DWORD [28+ESI]
   883 000007B4 53                              	PUSH	EBX
   884 000007B5 68 003C0000                     	PUSH	3932160
   885 000007BA E8 [00000000]                   	CALL	_memman_free_4k
   886 000007BF 83 C4 0C                        	ADD	ESP,12
   887 000007C2                                 L166:
   888 000007C2 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   889 000007C5 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   890 000007C8 5B                              	POP	EBX
   891 000007C9 5E                              	POP	ESI
   892 000007CA 5F                              	POP	EDI
   893 000007CB 5D                              	POP	EBP
   894 000007CC E9 FFFFFB91                     	JMP	_cons_newline
   895 000007D1                                 L165:
   896 000007D1 68 [00000062]                   	PUSH	LC11
   897 000007D6 57                              	PUSH	EDI
   898 000007D7 E8 FFFFFC47                     	CALL	_cons_putstr0
   899 000007DC 59                              	POP	ECX
   900 000007DD 5B                              	POP	EBX
   901 000007DE EB E2                           	JMP	L166
   902 000007E0                                 	GLOBAL	_cmd_exit
   903 000007E0                                 _cmd_exit:
   904 000007E0 55                              	PUSH	EBP
   905 000007E1 89 E5                           	MOV	EBP,ESP
   906 000007E3 57                              	PUSH	EDI
   907 000007E4 56                              	PUSH	ESI
   908 000007E5 53                              	PUSH	EBX
   909 000007E6 53                              	PUSH	EBX
   910 000007E7 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   911 000007EA E8 [00000000]                   	CALL	_task_now
   912 000007EF 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   913 000007F5 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
   914 000007FB 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   915 000007FE 83 3B 00                        	CMP	DWORD [EBX],0
   916 00000801 74 09                           	JE	L168
   917 00000803 FF 73 10                        	PUSH	DWORD [16+EBX]
   918 00000806 E8 [00000000]                   	CALL	_timer_cancel
   919 0000080B 59                              	POP	ECX
   920 0000080C                                 L168:
   921 0000080C 68 00002D00                     	PUSH	11520
   922 00000811 FF 75 0C                        	PUSH	DWORD [12+EBP]
   923 00000814 68 003C0000                     	PUSH	3932160
   924 00000819 E8 [00000000]                   	CALL	_memman_free_4k
   925 0000081E E8 [00000000]                   	CALL	_io_cli
   926 00000823 8B 03                           	MOV	EAX,DWORD [EBX]
   927 00000825 83 C4 0C                        	ADD	ESP,12
   928 00000828 85 C0                           	TEST	EAX,EAX
   929 0000082A 74 2E                           	JE	L169
   930 0000082C 29 F0                           	SUB	EAX,ESI
   931 0000082E 2D 00000414                     	SUB	EAX,1044
   932 00000833 C1 F8 03                        	SAR	EAX,3
   933 00000836 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   934 0000083C 05 00000300                     	ADD	EAX,768
   935 00000841                                 L174:
   936 00000841 50                              	PUSH	EAX
   937 00000842 57                              	PUSH	EDI
   938 00000843 E8 [00000000]                   	CALL	_fifo32_put
   939 00000848 58                              	POP	EAX
   940 00000849 5A                              	POP	EDX
   941 0000084A E8 [00000000]                   	CALL	_io_sti
   942 0000084F                                 L171:
   943 0000084F FF 75 F0                        	PUSH	DWORD [-16+EBP]
   944 00000852 E8 [00000000]                   	CALL	_task_sleep
   945 00000857 5F                              	POP	EDI
   946 00000858 EB F5                           	JMP	L171
   947 0000085A                                 L169:
   948 0000085A 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   949 0000085D 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
   950 00000863 2D 00000FF8                     	SUB	EAX,4088
   951 00000868 C1 F8 04                        	SAR	EAX,4
   952 0000086B 69 C0 BA2E8BA3                  	IMUL	EAX,EAX,-1171354717
   953 00000871 05 00000400                     	ADD	EAX,1024
   954 00000876 EB C9                           	JMP	L174
   955 00000878                                 	GLOBAL	_cmd_start
   956 00000878                                 _cmd_start:
   957 00000878 55                              	PUSH	EBP
   958 00000879 89 E5                           	MOV	EBP,ESP
   959 0000087B 57                              	PUSH	EDI
   960 0000087C 56                              	PUSH	ESI
   961 0000087D 53                              	PUSH	EBX
   962 0000087E 51                              	PUSH	ECX
   963 0000087F 51                              	PUSH	ECX
   964 00000880 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   965 00000883 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   966 00000886 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   967 0000088C 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   968 0000088F FF 75 10                        	PUSH	DWORD [16+EBP]
   969 00000892 56                              	PUSH	ESI
   970 00000893 E8 [00000000]                   	CALL	_open_console
   971 00000898 89 C3                           	MOV	EBX,EAX
   972 0000089A 8B 40 24                        	MOV	EAX,DWORD [36+EAX]
   973 0000089D 83 C0 10                        	ADD	EAX,16
   974 000008A0 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   975 000008A3 6A 04                           	PUSH	4
   976 000008A5 6A 20                           	PUSH	32
   977 000008A7 53                              	PUSH	EBX
   978 000008A8 E8 [00000000]                   	CALL	_sheet_slide
   979 000008AD FF 76 10                        	PUSH	DWORD [16+ESI]
   980 000008B0 53                              	PUSH	EBX
   981 000008B1 BB 00000006                     	MOV	EBX,6
   982 000008B6 E8 [00000000]                   	CALL	_sheet_updown
   983 000008BB 83 C4 1C                        	ADD	ESP,28
   984 000008BE 80 7F 06 00                     	CMP	BYTE [6+EDI],0
   985 000008C2 75 21                           	JNE	L180
   986 000008C4                                 L182:
   987 000008C4 68 0000010A                     	PUSH	266
   988 000008C9 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   989 000008CC E8 [00000000]                   	CALL	_fifo32_put
   990 000008D1 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   991 000008D4 5E                              	POP	ESI
   992 000008D5 5F                              	POP	EDI
   993 000008D6 89 45 08                        	MOV	DWORD [8+EBP],EAX
   994 000008D9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   995 000008DC 5B                              	POP	EBX
   996 000008DD 5E                              	POP	ESI
   997 000008DE 5F                              	POP	EDI
   998 000008DF 5D                              	POP	EBP
   999 000008E0 E9 FFFFFA7D                     	JMP	_cons_newline
  1000 000008E5                                 L180:
  1001 000008E5 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  1002 000008E9 05 00000100                     	ADD	EAX,256
  1003 000008EE 43                              	INC	EBX
  1004 000008EF 50                              	PUSH	EAX
  1005 000008F0 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1006 000008F3 E8 [00000000]                   	CALL	_fifo32_put
  1007 000008F8 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  1008 000008FC 58                              	POP	EAX
  1009 000008FD 5A                              	POP	EDX
  1010 000008FE 75 E5                           	JNE	L180
  1011 00000900 EB C2                           	JMP	L182
  1012 00000902                                 	GLOBAL	_cmd_ncst
  1013 00000902                                 _cmd_ncst:
  1014 00000902 55                              	PUSH	EBP
  1015 00000903 89 E5                           	MOV	EBP,ESP
  1016 00000905 57                              	PUSH	EDI
  1017 00000906 56                              	PUSH	ESI
  1018 00000907 BE 00000005                     	MOV	ESI,5
  1019 0000090C 53                              	PUSH	EBX
  1020 0000090D 50                              	PUSH	EAX
  1021 0000090E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1022 00000911 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1023 00000914 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1024 00000917 FF 75 10                        	PUSH	DWORD [16+EBP]
  1025 0000091A 6A 00                           	PUSH	0
  1026 0000091C E8 [00000000]                   	CALL	_open_constask
  1027 00000921 59                              	POP	ECX
  1028 00000922 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  1029 00000926 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  1030 00000929 58                              	POP	EAX
  1031 0000092A 75 1F                           	JNE	L188
  1032 0000092C                                 L190:
  1033 0000092C 68 0000010A                     	PUSH	266
  1034 00000931 57                              	PUSH	EDI
  1035 00000932 E8 [00000000]                   	CALL	_fifo32_put
  1036 00000937 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1037 0000093A 5B                              	POP	EBX
  1038 0000093B 5E                              	POP	ESI
  1039 0000093C 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1040 0000093F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1041 00000942 5B                              	POP	EBX
  1042 00000943 5E                              	POP	ESI
  1043 00000944 5F                              	POP	EDI
  1044 00000945 5D                              	POP	EBP
  1045 00000946 E9 FFFFFA17                     	JMP	_cons_newline
  1046 0000094B                                 L188:
  1047 0000094B 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  1048 0000094F 05 00000100                     	ADD	EAX,256
  1049 00000954 46                              	INC	ESI
  1050 00000955 50                              	PUSH	EAX
  1051 00000956 57                              	PUSH	EDI
  1052 00000957 E8 [00000000]                   	CALL	_fifo32_put
  1053 0000095C 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  1054 00000960 58                              	POP	EAX
  1055 00000961 5A                              	POP	EDX
  1056 00000962 75 E7                           	JNE	L188
  1057 00000964 EB C6                           	JMP	L190
  1058                                          [SECTION .data]
  1059 00000073                                 LC12:
  1060 00000073 48 61 72 69 00                  	DB	"Hari",0x00
  1061 00000078                                 LC13:
  1062 00000078 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000082 66 6F 72 6D 61 74 20 65 72 72 
       0000008C 6F 72 2E 0A 00 
  1063                                          [SECTION .text]
  1064 00000966                                 	GLOBAL	_cmd_app
  1065 00000966                                 _cmd_app:
  1066 00000966 55                              	PUSH	EBP
  1067 00000967 89 E5                           	MOV	EBP,ESP
  1068 00000969 57                              	PUSH	EDI
  1069 0000096A 56                              	PUSH	ESI
  1070 0000096B 53                              	PUSH	EBX
  1071 0000096C 31 DB                           	XOR	EBX,EBX
  1072 0000096E 83 EC 38                        	SUB	ESP,56
  1073 00000971 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
  1074 00000974 E8 [00000000]                   	CALL	_task_now
  1075 00000979 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  1076 0000097C                                 L197:
  1077 0000097C 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
  1078 0000097F 3C 20                           	CMP	AL,32
  1079 00000981 7E 0A                           	JLE	L193
  1080 00000983 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
  1081 00000987 43                              	INC	EBX
  1082 00000988 83 FB 0C                        	CMP	EBX,12
  1083 0000098B 7E EF                           	JLE	L197
  1084 0000098D                                 L193:
  1085 0000098D 68 000000E0                     	PUSH	224
  1086 00000992 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
  1087 00000995 68 00102600                     	PUSH	1058304
  1088 0000099A 56                              	PUSH	ESI
  1089 0000099B C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
  1090 000009A0 E8 [00000000]                   	CALL	_file_search
  1091 000009A5 83 C4 0C                        	ADD	ESP,12
  1092 000009A8 85 C0                           	TEST	EAX,EAX
  1093 000009AA 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1094 000009AD 0F 84 00000179                  	JE	L219
  1095 000009B3                                 L218:
  1096 000009B3 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  1097 000009B6 FF 70 1C                        	PUSH	DWORD [28+EAX]
  1098 000009B9 68 003C0000                     	PUSH	3932160
  1099 000009BE E8 [00000000]                   	CALL	_memman_alloc_4k
  1100 000009C3 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1101 000009C6 68 00103E00                     	PUSH	1064448
  1102 000009CB FF 75 0C                        	PUSH	DWORD [12+EBP]
  1103 000009CE 50                              	PUSH	EAX
  1104 000009CF 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
  1105 000009D2 FF 72 1C                        	PUSH	DWORD [28+EDX]
  1106 000009D5 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1107 000009D9 50                              	PUSH	EAX
  1108 000009DA E8 [00000000]                   	CALL	_file_loadfile
  1109 000009DF 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1110 000009E2 83 C4 1C                        	ADD	ESP,28
  1111 000009E5 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
  1112 000009E9 76 1F                           	JBE	L200
  1113 000009EB 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
  1114 000009EE B8 [00000073]                   	MOV	EAX,LC12
  1115 000009F3 FC                              	CLD
  1116 000009F4 83 C6 04                        	ADD	ESI,4
  1117 000009F7 B9 00000004                     	MOV	ECX,4
  1118 000009FC 89 C7                           	MOV	EDI,EAX
  1119 000009FE F3                              	REPE
  1120 000009FF A6                              	CMPSB
  1121 00000A00 75 08                           	JNE	L200
  1122 00000A02 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
  1123 00000A05 80 38 00                        	CMP	BYTE [EAX],0
  1124 00000A08 74 37                           	JE	L220
  1125 00000A0A                                 L200:
  1126 00000A0A 68 [00000078]                   	PUSH	LC13
  1127 00000A0F FF 75 08                        	PUSH	DWORD [8+EBP]
  1128 00000A12 E8 FFFFFA0C                     	CALL	_cons_putstr0
  1129 00000A17 58                              	POP	EAX
  1130 00000A18 5A                              	POP	EDX
  1131 00000A19                                 L212:
  1132 00000A19 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1133 00000A1C FF 77 1C                        	PUSH	DWORD [28+EDI]
  1134 00000A1F FF 75 BC                        	PUSH	DWORD [-68+EBP]
  1135 00000A22 68 003C0000                     	PUSH	3932160
  1136 00000A27 E8 [00000000]                   	CALL	_memman_free_4k
  1137 00000A2C FF 75 08                        	PUSH	DWORD [8+EBP]
  1138 00000A2F E8 FFFFF92E                     	CALL	_cons_newline
  1139 00000A34 B8 00000001                     	MOV	EAX,1
  1140 00000A39                                 L191:
  1141 00000A39 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1142 00000A3C 5B                              	POP	EBX
  1143 00000A3D 5E                              	POP	ESI
  1144 00000A3E 5F                              	POP	EDI
  1145 00000A3F 5D                              	POP	EBP
  1146 00000A40 C3                              	RET
  1147 00000A41                                 L220:
  1148 00000A41 8B 10                           	MOV	EDX,DWORD [EAX]
  1149 00000A43 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
  1150 00000A46 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
  1151 00000A49 8B 70 14                        	MOV	ESI,DWORD [20+EAX]
  1152 00000A4C 52                              	PUSH	EDX
  1153 00000A4D 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  1154 00000A50 68 003C0000                     	PUSH	3932160
  1155 00000A55 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
  1156 00000A58 E8 [00000000]                   	CALL	_memman_alloc_4k
  1157 00000A5D 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1158 00000A60 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1159 00000A63 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  1160 00000A66 89 82 000000A8                  	MOV	DWORD [168+EDX],EAX
  1161 00000A6C 68 000040FA                     	PUSH	16634
  1162 00000A71 FF 75 BC                        	PUSH	DWORD [-68+EBP]
  1163 00000A74 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
  1164 00000A77 48                              	DEC	EAX
  1165 00000A78 50                              	PUSH	EAX
  1166 00000A79 89 D0                           	MOV	EAX,EDX
  1167 00000A7B 05 00000094                     	ADD	EAX,148
  1168 00000A80 50                              	PUSH	EAX
  1169 00000A81 E8 [00000000]                   	CALL	_set_segmdesc
  1170 00000A86 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  1171 00000A89 68 000040F2                     	PUSH	16626
  1172 00000A8E 48                              	DEC	EAX
  1173 00000A8F FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1174 00000A92 50                              	PUSH	EAX
  1175 00000A93 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1176 00000A96 05 0000009C                     	ADD	EAX,156
  1177 00000A9B 50                              	PUSH	EAX
  1178 00000A9C E8 [00000000]                   	CALL	_set_segmdesc
  1179 00000AA1 83 C4 28                        	ADD	ESP,40
  1180 00000AA4 85 DB                           	TEST	EBX,EBX
  1181 00000AA6 7E 15                           	JLE	L215
  1182 00000AA8 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  1183 00000AAB 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
  1184 00000AAE 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
  1185 00000AB1 8D 14 30                        	LEA	EDX,DWORD [EAX+ESI*1]
  1186 00000AB4                                 L205:
  1187 00000AB4 8A 02                           	MOV	AL,BYTE [EDX]
  1188 00000AB6 42                              	INC	EDX
  1189 00000AB7 88 01                           	MOV	BYTE [ECX],AL
  1190 00000AB9 41                              	INC	ECX
  1191 00000ABA 4B                              	DEC	EBX
  1192 00000ABB 75 F7                           	JNE	L205
  1193 00000ABD                                 L215:
  1194 00000ABD 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1195 00000AC0 BB 000000FF                     	MOV	EBX,255
  1196 00000AC5 83 C0 30                        	ADD	EAX,48
  1197 00000AC8 50                              	PUSH	EAX
  1198 00000AC9 6A 0C                           	PUSH	12
  1199 00000ACB FF 75 C0                        	PUSH	DWORD [-64+EBP]
  1200 00000ACE 6A 04                           	PUSH	4
  1201 00000AD0 6A 1B                           	PUSH	27
  1202 00000AD2 E8 [00000000]                   	CALL	_start_app
  1203 00000AD7 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1204 00000ADD 83 C4 14                        	ADD	ESP,20
  1205 00000AE0 81 C6 00000414                  	ADD	ESI,1044
  1206 00000AE6                                 L211:
  1207 00000AE6 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
  1208 00000AE9 83 E0 11                        	AND	EAX,17
  1209 00000AEC 83 F8 11                        	CMP	EAX,17
  1210 00000AEF 74 2A                           	JE	L221
  1211 00000AF1                                 L208:
  1212 00000AF1 83 C6 28                        	ADD	ESI,40
  1213 00000AF4 4B                              	DEC	EBX
  1214 00000AF5 79 EF                           	JNS	L211
  1215 00000AF7 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1216 00000AFA 83 C0 10                        	ADD	EAX,16
  1217 00000AFD 50                              	PUSH	EAX
  1218 00000AFE E8 [00000000]                   	CALL	_timer_cancelall
  1219 00000B03 FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1220 00000B06 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1221 00000B09 68 003C0000                     	PUSH	3932160
  1222 00000B0E E8 [00000000]                   	CALL	_memman_free_4k
  1223 00000B13 83 C4 10                        	ADD	ESP,16
  1224 00000B16 E9 FFFFFEFE                     	JMP	L212
  1225 00000B1B                                 L221:
  1226 00000B1B 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1227 00000B1E 39 56 24                        	CMP	DWORD [36+ESI],EDX
  1228 00000B21 75 CE                           	JNE	L208
  1229 00000B23 56                              	PUSH	ESI
  1230 00000B24 E8 [00000000]                   	CALL	_sheet_free
  1231 00000B29 59                              	POP	ECX
  1232 00000B2A EB C5                           	JMP	L208
  1233 00000B2C                                 L219:
  1234 00000B2C 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1235 00000B31 74 2F                           	JE	L198
  1236 00000B33 68 000000E0                     	PUSH	224
  1237 00000B38 68 00102600                     	PUSH	1058304
  1238 00000B3D 56                              	PUSH	ESI
  1239 00000B3E C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1240 00000B43 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1241 00000B48 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1242 00000B4D C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1243 00000B52 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1244 00000B57 E8 [00000000]                   	CALL	_file_search
  1245 00000B5C 83 C4 0C                        	ADD	ESP,12
  1246 00000B5F 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1247 00000B62                                 L198:
  1248 00000B62 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1249 00000B66 0F 85 FFFFFE47                  	JNE	L218
  1250 00000B6C 31 C0                           	XOR	EAX,EAX
  1251 00000B6E E9 FFFFFEC6                     	JMP	L191
  1252 00000B73                                 	GLOBAL	_hrb_api
  1253 00000B73                                 _hrb_api:
  1254 00000B73 55                              	PUSH	EBP
  1255 00000B74 89 E5                           	MOV	EBP,ESP
  1256 00000B76 57                              	PUSH	EDI
  1257 00000B77 56                              	PUSH	ESI
  1258 00000B78 53                              	PUSH	EBX
  1259 00000B79 83 EC 10                        	SUB	ESP,16
  1260 00000B7C 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
  1261 00000B7F E8 [00000000]                   	CALL	_task_now
  1262 00000B84 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
  1263 00000B8A 83 FB 01                        	CMP	EBX,1
  1264 00000B8D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1265 00000B90 8B B8 000000A8                  	MOV	EDI,DWORD [168+EAX]
  1266 00000B96 8B B0 000000A4                  	MOV	ESI,DWORD [164+EAX]
  1267 00000B9C 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
  1268 00000B9F A1 00000FE4                     	MOV	EAX,DWORD [4068]
  1269 00000BA4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1270 00000BA7 0F 84 0000046C                  	JE	L287
  1271 00000BAD 83 FB 02                        	CMP	EBX,2
  1272 00000BB0 0F 84 00000452                  	JE	L288
  1273 00000BB6 83 FB 03                        	CMP	EBX,3
  1274 00000BB9 0F 84 00000435                  	JE	L289
  1275 00000BBF 83 FB 04                        	CMP	EBX,4
  1276 00000BC2 0F 84 00000421                  	JE	L290
  1277 00000BC8 83 FB 05                        	CMP	EBX,5
  1278 00000BCB 0F 84 0000039C                  	JE	L291
  1279 00000BD1 83 FB 06                        	CMP	EBX,6
  1280 00000BD4 0F 84 00000348                  	JE	L292
  1281 00000BDA 83 FB 07                        	CMP	EBX,7
  1282 00000BDD 0F 84 00000316                  	JE	L293
  1283 00000BE3 83 FB 08                        	CMP	EBX,8
  1284 00000BE6 0F 84 000002EA                  	JE	L294
  1285 00000BEC 83 FB 09                        	CMP	EBX,9
  1286 00000BEF 0F 84 000002C4                  	JE	L295
  1287 00000BF5 83 FB 0A                        	CMP	EBX,10
  1288 00000BF8 0F 84 0000029E                  	JE	L296
  1289 00000BFE 83 FB 0B                        	CMP	EBX,11
  1290 00000C01 0F 84 0000025E                  	JE	L297
  1291 00000C07 83 FB 0C                        	CMP	EBX,12
  1292 00000C0A 0F 84 00000244                  	JE	L298
  1293 00000C10 83 FB 0D                        	CMP	EBX,13
  1294 00000C13 0F 84 000001F2                  	JE	L299
  1295 00000C19 83 FB 0E                        	CMP	EBX,14
  1296 00000C1C 0F 84 000001DC                  	JE	L300
  1297 00000C22 83 FB 0F                        	CMP	EBX,15
  1298 00000C25 0F 84 000000E9                  	JE	L256
  1299 00000C2B 83 FB 10                        	CMP	EBX,16
  1300 00000C2E 0F 84 000000CF                  	JE	L301
  1301 00000C34 83 FB 11                        	CMP	EBX,17
  1302 00000C37 0F 84 000000A9                  	JE	L302
  1303 00000C3D 83 FB 12                        	CMP	EBX,18
  1304 00000C40 0F 84 0000008E                  	JE	L303
  1305 00000C46 83 FB 13                        	CMP	EBX,19
  1306 00000C49 74 7B                           	JE	L304
  1307 00000C4B 83 FB 14                        	CMP	EBX,20
  1308 00000C4E 74 0A                           	JE	L305
  1309 00000C50                                 L224:
  1310 00000C50 31 C0                           	XOR	EAX,EAX
  1311 00000C52                                 L222:
  1312 00000C52 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1313 00000C55 5B                              	POP	EBX
  1314 00000C56 5E                              	POP	ESI
  1315 00000C57 5F                              	POP	EDI
  1316 00000C58 5D                              	POP	EBP
  1317 00000C59 C3                              	RET
  1318 00000C5A                                 L305:
  1319 00000C5A 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1320 00000C5D 85 D2                           	TEST	EDX,EDX
  1321 00000C5F 75 19                           	JNE	L277
  1322 00000C61 6A 61                           	PUSH	97
  1323 00000C63 E8 [00000000]                   	CALL	_io_in8
  1324 00000C68 89 C3                           	MOV	EBX,EAX
  1325 00000C6A 83 E3 0D                        	AND	EBX,13
  1326 00000C6D 53                              	PUSH	EBX
  1327 00000C6E 6A 61                           	PUSH	97
  1328 00000C70 E8 [00000000]                   	CALL	_io_out8
  1329 00000C75                                 L279:
  1330 00000C75 83 C4 0C                        	ADD	ESP,12
  1331 00000C78 EB D6                           	JMP	L224
  1332 00000C7A                                 L277:
  1333 00000C7A B9 471E7B60                     	MOV	ECX,1193180000
  1334 00000C7F 89 D6                           	MOV	ESI,EDX
  1335 00000C81 89 C8                           	MOV	EAX,ECX
  1336 00000C83 68 000000B6                     	PUSH	182
  1337 00000C88 99                              	CDQ
  1338 00000C89 F7 FE                           	IDIV	ESI
  1339 00000C8B 6A 43                           	PUSH	67
  1340 00000C8D 89 C3                           	MOV	EBX,EAX
  1341 00000C8F E8 [00000000]                   	CALL	_io_out8
  1342 00000C94 0F B6 C3                        	MOVZX	EAX,BL
  1343 00000C97 C1 FB 08                        	SAR	EBX,8
  1344 00000C9A 50                              	PUSH	EAX
  1345 00000C9B 6A 42                           	PUSH	66
  1346 00000C9D E8 [00000000]                   	CALL	_io_out8
  1347 00000CA2 53                              	PUSH	EBX
  1348 00000CA3 6A 42                           	PUSH	66
  1349 00000CA5 E8 [00000000]                   	CALL	_io_out8
  1350 00000CAA 6A 61                           	PUSH	97
  1351 00000CAC E8 [00000000]                   	CALL	_io_in8
  1352 00000CB1 89 C3                           	MOV	EBX,EAX
  1353 00000CB3 83 CB 03                        	OR	EBX,3
  1354 00000CB6 83 E3 0F                        	AND	EBX,15
  1355 00000CB9 53                              	PUSH	EBX
  1356 00000CBA 6A 61                           	PUSH	97
  1357 00000CBC E8 [00000000]                   	CALL	_io_out8
  1358 00000CC1 83 C4 24                        	ADD	ESP,36
  1359 00000CC4 EB 8A                           	JMP	L224
  1360 00000CC6                                 L304:
  1361 00000CC6 FF 75 18                        	PUSH	DWORD [24+EBP]
  1362 00000CC9 E8 [00000000]                   	CALL	_timer_free
  1363 00000CCE                                 L280:
  1364 00000CCE 5B                              	POP	EBX
  1365 00000CCF E9 FFFFFF7C                     	JMP	L224
  1366 00000CD4                                 L303:
  1367 00000CD4 FF 75 24                        	PUSH	DWORD [36+EBP]
  1368 00000CD7 FF 75 18                        	PUSH	DWORD [24+EBP]
  1369 00000CDA E8 [00000000]                   	CALL	_timer_settime
  1370 00000CDF                                 L282:
  1371 00000CDF 5E                              	POP	ESI
  1372 00000CE0 5F                              	POP	EDI
  1373 00000CE1 E9 FFFFFF6A                     	JMP	L224
  1374 00000CE6                                 L302:
  1375 00000CE6 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1376 00000CE9 05 00000100                     	ADD	EAX,256
  1377 00000CEE 50                              	PUSH	EAX
  1378 00000CEF 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1379 00000CF2 83 C0 10                        	ADD	EAX,16
  1380 00000CF5 50                              	PUSH	EAX
  1381 00000CF6 FF 75 18                        	PUSH	DWORD [24+EBP]
  1382 00000CF9 E8 [00000000]                   	CALL	_timer_init
  1383 00000CFE E9 FFFFFF72                     	JMP	L279
  1384 00000D03                                 L301:
  1385 00000D03 E8 [00000000]                   	CALL	_timer_alloc
  1386 00000D08 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1387 00000D0B C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1388 00000D0F E9 FFFFFF3C                     	JMP	L224
  1389 00000D14                                 L256:
  1390 00000D14 E8 [00000000]                   	CALL	_io_cli
  1391 00000D19 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1392 00000D1C 83 C0 10                        	ADD	EAX,16
  1393 00000D1F 50                              	PUSH	EAX
  1394 00000D20 E8 [00000000]                   	CALL	_fifo32_status
  1395 00000D25 5A                              	POP	EDX
  1396 00000D26 85 C0                           	TEST	EAX,EAX
  1397 00000D28 75 13                           	JNE	L259
  1398 00000D2A 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1399 00000D2E 0F 84 000000B9                  	JE	L260
  1400 00000D34 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1401 00000D37 E8 [00000000]                   	CALL	_task_sleep
  1402 00000D3C 58                              	POP	EAX
  1403 00000D3D                                 L259:
  1404 00000D3D 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  1405 00000D40 83 C7 10                        	ADD	EDI,16
  1406 00000D43 57                              	PUSH	EDI
  1407 00000D44 E8 [00000000]                   	CALL	_fifo32_get
  1408 00000D49 89 C3                           	MOV	EBX,EAX
  1409 00000D4B E8 [00000000]                   	CALL	_io_sti
  1410 00000D50 58                              	POP	EAX
  1411 00000D51 83 FB 01                        	CMP	EBX,1
  1412 00000D54 7E 75                           	JLE	L306
  1413 00000D56                                 L262:
  1414 00000D56 83 FB 02                        	CMP	EBX,2
  1415 00000D59 74 67                           	JE	L307
  1416 00000D5B                                 L263:
  1417 00000D5B 83 FB 03                        	CMP	EBX,3
  1418 00000D5E 74 59                           	JE	L308
  1419 00000D60                                 L264:
  1420 00000D60 83 FB 04                        	CMP	EBX,4
  1421 00000D63 74 16                           	JE	L309
  1422 00000D65                                 L265:
  1423 00000D65 81 FB 000000FF                  	CMP	EBX,255
  1424 00000D6B 7E A7                           	JLE	L256
  1425 00000D6D 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1426 00000D73 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1427 00000D76 E9 FFFFFED5                     	JMP	L224
  1428 00000D7B                                 L309:
  1429 00000D7B FF 76 10                        	PUSH	DWORD [16+ESI]
  1430 00000D7E E8 [00000000]                   	CALL	_timer_cancel
  1431 00000D83 E8 [00000000]                   	CALL	_io_cli
  1432 00000D88 8B 06                           	MOV	EAX,DWORD [ESI]
  1433 00000D8A 2B 45 EC                        	SUB	EAX,DWORD [-20+EBP]
  1434 00000D8D 2D 00000414                     	SUB	EAX,1044
  1435 00000D92 C1 F8 03                        	SAR	EAX,3
  1436 00000D95 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  1437 00000D9B 05 000007E8                     	ADD	EAX,2024
  1438 00000DA0 50                              	PUSH	EAX
  1439 00000DA1 FF 75 E8                        	PUSH	DWORD [-24+EBP]
  1440 00000DA4 E8 [00000000]                   	CALL	_fifo32_put
  1441 00000DA9 C7 06 00000000                  	MOV	DWORD [ESI],0
  1442 00000DAF E8 [00000000]                   	CALL	_io_sti
  1443 00000DB4 83 C4 0C                        	ADD	ESP,12
  1444 00000DB7 EB AC                           	JMP	L265
  1445 00000DB9                                 L308:
  1446 00000DB9 C7 46 0C FFFFFFFF               	MOV	DWORD [12+ESI],-1
  1447 00000DC0 EB 9E                           	JMP	L264
  1448 00000DC2                                 L307:
  1449 00000DC2 C7 46 0C 00000000               	MOV	DWORD [12+ESI],0
  1450 00000DC9 EB 90                           	JMP	L263
  1451 00000DCB                                 L306:
  1452 00000DCB 83 3E 00                        	CMP	DWORD [ESI],0
  1453 00000DCE 74 86                           	JE	L262
  1454 00000DD0 6A 01                           	PUSH	1
  1455 00000DD2 57                              	PUSH	EDI
  1456 00000DD3 FF 76 10                        	PUSH	DWORD [16+ESI]
  1457 00000DD6 E8 [00000000]                   	CALL	_timer_init
  1458 00000DDB 6A 32                           	PUSH	50
  1459 00000DDD FF 76 10                        	PUSH	DWORD [16+ESI]
  1460 00000DE0 E8 [00000000]                   	CALL	_timer_settime
  1461 00000DE5 83 C4 14                        	ADD	ESP,20
  1462 00000DE8 E9 FFFFFF69                     	JMP	L262
  1463 00000DED                                 L260:
  1464 00000DED E8 [00000000]                   	CALL	_io_sti
  1465 00000DF2 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1466 00000DF9 E9 FFFFFE52                     	JMP	L224
  1467 00000DFE                                 L300:
  1468 00000DFE FF 75 18                        	PUSH	DWORD [24+EBP]
  1469 00000E01 E8 [00000000]                   	CALL	_sheet_free
  1470 00000E06 E9 FFFFFEC3                     	JMP	L280
  1471 00000E0B                                 L299:
  1472 00000E0B FF 75 10                        	PUSH	DWORD [16+EBP]
  1473 00000E0E FF 75 08                        	PUSH	DWORD [8+EBP]
  1474 00000E11 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1475 00000E14 FF 75 20                        	PUSH	DWORD [32+EBP]
  1476 00000E17 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1477 00000E1A FF 75 24                        	PUSH	DWORD [36+EBP]
  1478 00000E1D 83 E6 FE                        	AND	ESI,-2
  1479 00000E20 56                              	PUSH	ESI
  1480 00000E21 E8 00000297                     	CALL	_hrb_api_linewin
  1481 00000E26 83 C4 18                        	ADD	ESP,24
  1482 00000E29                                 L286:
  1483 00000E29 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1484 00000E30 0F 85 FFFFFE1A                  	JNE	L224
  1485 00000E36 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1486 00000E39 40                              	INC	EAX
  1487 00000E3A 50                              	PUSH	EAX
  1488 00000E3B 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1489 00000E3E 40                              	INC	EAX
  1490 00000E3F 50                              	PUSH	EAX
  1491 00000E40 FF 75 20                        	PUSH	DWORD [32+EBP]
  1492 00000E43 FF 75 24                        	PUSH	DWORD [36+EBP]
  1493 00000E46                                 L284:
  1494 00000E46 56                              	PUSH	ESI
  1495 00000E47                                 L281:
  1496 00000E47 E8 [00000000]                   	CALL	_sheet_refresh
  1497 00000E4C                                 L283:
  1498 00000E4C 83 C4 14                        	ADD	ESP,20
  1499 00000E4F E9 FFFFFDFC                     	JMP	L224
  1500 00000E54                                 L298:
  1501 00000E54 FF 75 08                        	PUSH	DWORD [8+EBP]
  1502 00000E57 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1503 00000E5A FF 75 20                        	PUSH	DWORD [32+EBP]
  1504 00000E5D FF 75 24                        	PUSH	DWORD [36+EBP]
  1505 00000E60 FF 75 18                        	PUSH	DWORD [24+EBP]
  1506 00000E63 EB E2                           	JMP	L281
  1507 00000E65                                 L297:
  1508 00000E65 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1509 00000E68 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1510 00000E6B 83 E6 FE                        	AND	ESI,-2
  1511 00000E6E 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1512 00000E71 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1513 00000E75 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1514 00000E78 8B 0E                           	MOV	ECX,DWORD [ESI]
  1515 00000E7A 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1516 00000E7D F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1517 00000E84 0F 85 FFFFFDC6                  	JNE	L224
  1518 00000E8A 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1519 00000E8D 40                              	INC	EAX
  1520 00000E8E 50                              	PUSH	EAX
  1521 00000E8F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1522 00000E92 40                              	INC	EAX
  1523 00000E93 50                              	PUSH	EAX
  1524 00000E94 FF 75 08                        	PUSH	DWORD [8+EBP]
  1525 00000E97 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1526 00000E9A EB AA                           	JMP	L284
  1527 00000E9C                                 L296:
  1528 00000E9C 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1529 00000E9F 83 C0 0F                        	ADD	EAX,15
  1530 00000EA2 83 E0 F0                        	AND	EAX,-16
  1531 00000EA5 50                              	PUSH	EAX
  1532 00000EA6 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1533 00000EA9 FF 75 24                        	PUSH	DWORD [36+EBP]
  1534 00000EAC 01 F8                           	ADD	EAX,EDI
  1535 00000EAE 50                              	PUSH	EAX
  1536 00000EAF E8 [00000000]                   	CALL	_memman_free
  1537 00000EB4 E9 FFFFFDBC                     	JMP	L279
  1538 00000EB9                                 L295:
  1539 00000EB9 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1540 00000EBC 83 C0 0F                        	ADD	EAX,15
  1541 00000EBF 83 E0 F0                        	AND	EAX,-16
  1542 00000EC2 50                              	PUSH	EAX
  1543 00000EC3 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1544 00000EC6 01 F8                           	ADD	EAX,EDI
  1545 00000EC8 50                              	PUSH	EAX
  1546 00000EC9 E8 [00000000]                   	CALL	_memman_alloc
  1547 00000ECE 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1548 00000ED1 E9 FFFFFE09                     	JMP	L282
  1549 00000ED6                                 L294:
  1550 00000ED6 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1551 00000ED9 01 FB                           	ADD	EBX,EDI
  1552 00000EDB 53                              	PUSH	EBX
  1553 00000EDC E8 [00000000]                   	CALL	_memman_init
  1554 00000EE1 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1555 00000EE5 FF 75 20                        	PUSH	DWORD [32+EBP]
  1556 00000EE8 FF 75 24                        	PUSH	DWORD [36+EBP]
  1557 00000EEB 53                              	PUSH	EBX
  1558 00000EEC E8 [00000000]                   	CALL	_memman_free
  1559 00000EF1 83 C4 10                        	ADD	ESP,16
  1560 00000EF4 E9 FFFFFD57                     	JMP	L224
  1561 00000EF9                                 L293:
  1562 00000EF9 FF 75 08                        	PUSH	DWORD [8+EBP]
  1563 00000EFC FF 75 0C                        	PUSH	DWORD [12+EBP]
  1564 00000EFF FF 75 20                        	PUSH	DWORD [32+EBP]
  1565 00000F02 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1566 00000F05 FF 75 24                        	PUSH	DWORD [36+EBP]
  1567 00000F08 83 E6 FE                        	AND	ESI,-2
  1568 00000F0B 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1569 00000F0F 50                              	PUSH	EAX
  1570 00000F10 FF 76 04                        	PUSH	DWORD [4+ESI]
  1571 00000F13 FF 36                           	PUSH	DWORD [ESI]
  1572 00000F15 E8 [00000000]                   	CALL	_boxfill8
  1573 00000F1A 83 C4 1C                        	ADD	ESP,28
  1574 00000F1D E9 FFFFFF07                     	JMP	L286
  1575 00000F22                                 L292:
  1576 00000F22 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1577 00000F25 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1578 00000F28 01 F8                           	ADD	EAX,EDI
  1579 00000F2A 83 E6 FE                        	AND	ESI,-2
  1580 00000F2D 50                              	PUSH	EAX
  1581 00000F2E 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1582 00000F32 50                              	PUSH	EAX
  1583 00000F33 FF 75 08                        	PUSH	DWORD [8+EBP]
  1584 00000F36 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1585 00000F39 FF 76 04                        	PUSH	DWORD [4+ESI]
  1586 00000F3C FF 36                           	PUSH	DWORD [ESI]
  1587 00000F3E E8 [00000000]                   	CALL	_putfonts8_asc
  1588 00000F43 83 C4 18                        	ADD	ESP,24
  1589 00000F46 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1590 00000F4D 0F 85 FFFFFCFD                  	JNE	L224
  1591 00000F53 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1592 00000F56 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1593 00000F59 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1594 00000F5C 83 C0 10                        	ADD	EAX,16
  1595 00000F5F 50                              	PUSH	EAX
  1596 00000F60 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1597 00000F63 50                              	PUSH	EAX
  1598 00000F64 FF 75 08                        	PUSH	DWORD [8+EBP]
  1599 00000F67 51                              	PUSH	ECX
  1600 00000F68 E9 FFFFFED9                     	JMP	L284
  1601 00000F6D                                 L291:
  1602 00000F6D FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1603 00000F70 E8 [00000000]                   	CALL	_sheet_alloc
  1604 00000F75 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1605 00000F78 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1606 00000F7B 01 FB                           	ADD	EBX,EDI
  1607 00000F7D 89 48 24                        	MOV	DWORD [36+EAX],ECX
  1608 00000F80 89 C6                           	MOV	ESI,EAX
  1609 00000F82 83 48 1C 10                     	OR	DWORD [28+EAX],16
  1610 00000F86 FF 75 24                        	PUSH	DWORD [36+EBP]
  1611 00000F89 FF 75 08                        	PUSH	DWORD [8+EBP]
  1612 00000F8C FF 75 0C                        	PUSH	DWORD [12+EBP]
  1613 00000F8F 53                              	PUSH	EBX
  1614 00000F90 50                              	PUSH	EAX
  1615 00000F91 E8 [00000000]                   	CALL	_sheet_setbuf
  1616 00000F96 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1617 00000F99 6A 00                           	PUSH	0
  1618 00000F9B 01 F8                           	ADD	EAX,EDI
  1619 00000F9D 50                              	PUSH	EAX
  1620 00000F9E FF 75 08                        	PUSH	DWORD [8+EBP]
  1621 00000FA1 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1622 00000FA4 53                              	PUSH	EBX
  1623 00000FA5 BB 00000002                     	MOV	EBX,2
  1624 00000FAA E8 [00000000]                   	CALL	_make_window8
  1625 00000FAF 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
  1626 00000FB2 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1627 00000FB5 83 C4 2C                        	ADD	ESP,44
  1628 00000FB8 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
  1629 00000FBB 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  1630 00000FBE 99                              	CDQ
  1631 00000FBF F7 FB                           	IDIV	EBX
  1632 00000FC1 50                              	PUSH	EAX
  1633 00000FC2 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  1634 00000FC5 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  1635 00000FC8 99                              	CDQ
  1636 00000FC9 F7 FB                           	IDIV	EBX
  1637 00000FCB 83 E0 FC                        	AND	EAX,-4
  1638 00000FCE 50                              	PUSH	EAX
  1639 00000FCF 56                              	PUSH	ESI
  1640 00000FD0 E8 [00000000]                   	CALL	_sheet_slide
  1641 00000FD5 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1642 00000FD8 FF 70 10                        	PUSH	DWORD [16+EAX]
  1643 00000FDB 56                              	PUSH	ESI
  1644 00000FDC E8 [00000000]                   	CALL	_sheet_updown
  1645 00000FE1 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1646 00000FE4 E9 FFFFFE63                     	JMP	L283
  1647 00000FE9                                 L290:
  1648 00000FE9 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1649 00000FEC 83 C0 30                        	ADD	EAX,48
  1650 00000FEF E9 FFFFFC5E                     	JMP	L222
  1651 00000FF4                                 L289:
  1652 00000FF4 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1653 00000FF7 FF 75 20                        	PUSH	DWORD [32+EBP]
  1654 00000FFA 01 F8                           	ADD	EAX,EDI
  1655 00000FFC 50                              	PUSH	EAX
  1656 00000FFD 56                              	PUSH	ESI
  1657 00000FFE E8 FFFFF44E                     	CALL	_cons_putstr1
  1658 00001003 E9 FFFFFC6D                     	JMP	L279
  1659 00001008                                 L288:
  1660 00001008 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1661 0000100B 01 F8                           	ADD	EAX,EDI
  1662 0000100D 50                              	PUSH	EAX
  1663 0000100E 56                              	PUSH	ESI
  1664 0000100F E8 FFFFF40F                     	CALL	_cons_putstr0
  1665 00001014 E9 FFFFFCC6                     	JMP	L282
  1666 00001019                                 L287:
  1667 00001019 6A 01                           	PUSH	1
  1668 0000101B 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1669 0000101F 50                              	PUSH	EAX
  1670 00001020 56                              	PUSH	ESI
  1671 00001021 E8 FFFFF285                     	CALL	_cons_putchar
  1672 00001026 E9 FFFFFC4A                     	JMP	L279
  1673                                          [SECTION .data]
  1674 00000091                                 LC14:
  1675 00000091 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       0000009B 20 53 74 61 63 6B 20 45 78 63 
       000000A5 65 70 74 69 6F 6E 2E 0A 00 
  1676 000000AE                                 LC15:
  1677 000000AE 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000B8 0A 00 
  1678                                          [SECTION .text]
  1679 0000102B                                 	GLOBAL	_inthandler0c
  1680 0000102B                                 _inthandler0c:
  1681 0000102B 55                              	PUSH	EBP
  1682 0000102C 89 E5                           	MOV	EBP,ESP
  1683 0000102E 57                              	PUSH	EDI
  1684 0000102F 56                              	PUSH	ESI
  1685 00001030 53                              	PUSH	EBX
  1686 00001031 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1687 00001034 83 EC 20                        	SUB	ESP,32
  1688 00001037 E8 [00000000]                   	CALL	_task_now
  1689 0000103C 89 C6                           	MOV	ESI,EAX
  1690 0000103E 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  1691 00001044 83 C6 30                        	ADD	ESI,48
  1692 00001047 68 [00000091]                   	PUSH	LC14
  1693 0000104C 57                              	PUSH	EDI
  1694 0000104D E8 FFFFF3D1                     	CALL	_cons_putstr0
  1695 00001052 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1696 00001055 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1697 00001058 68 [000000AE]                   	PUSH	LC15
  1698 0000105D 53                              	PUSH	EBX
  1699 0000105E E8 [00000000]                   	CALL	_sprintf
  1700 00001063 53                              	PUSH	EBX
  1701 00001064 57                              	PUSH	EDI
  1702 00001065 E8 FFFFF3B9                     	CALL	_cons_putstr0
  1703 0000106A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1704 0000106D 5B                              	POP	EBX
  1705 0000106E 89 F0                           	MOV	EAX,ESI
  1706 00001070 5E                              	POP	ESI
  1707 00001071 5F                              	POP	EDI
  1708 00001072 5D                              	POP	EBP
  1709 00001073 C3                              	RET
  1710                                          [SECTION .data]
  1711 000000BA                                 LC16:
  1712 000000BA 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000C4 20 47 65 6E 65 72 61 6C 20 50 
       000000CE 72 6F 74 65 63 74 65 64 20 45 
       000000D8 78 63 65 70 74 69 6F 6E 2E 0A 
       000000E2 00 
  1713                                          [SECTION .text]
  1714 00001074                                 	GLOBAL	_inthandler0d
  1715 00001074                                 _inthandler0d:
  1716 00001074 55                              	PUSH	EBP
  1717 00001075 89 E5                           	MOV	EBP,ESP
  1718 00001077 57                              	PUSH	EDI
  1719 00001078 56                              	PUSH	ESI
  1720 00001079 53                              	PUSH	EBX
  1721 0000107A 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1722 0000107D 83 EC 20                        	SUB	ESP,32
  1723 00001080 E8 [00000000]                   	CALL	_task_now
  1724 00001085 89 C6                           	MOV	ESI,EAX
  1725 00001087 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  1726 0000108D 83 C6 30                        	ADD	ESI,48
  1727 00001090 68 [000000BA]                   	PUSH	LC16
  1728 00001095 57                              	PUSH	EDI
  1729 00001096 E8 FFFFF388                     	CALL	_cons_putstr0
  1730 0000109B 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1731 0000109E FF 70 2C                        	PUSH	DWORD [44+EAX]
  1732 000010A1 68 [000000AE]                   	PUSH	LC15
  1733 000010A6 53                              	PUSH	EBX
  1734 000010A7 E8 [00000000]                   	CALL	_sprintf
  1735 000010AC 53                              	PUSH	EBX
  1736 000010AD 57                              	PUSH	EDI
  1737 000010AE E8 FFFFF370                     	CALL	_cons_putstr0
  1738 000010B3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1739 000010B6 5B                              	POP	EBX
  1740 000010B7 89 F0                           	MOV	EAX,ESI
  1741 000010B9 5E                              	POP	ESI
  1742 000010BA 5F                              	POP	EDI
  1743 000010BB 5D                              	POP	EBP
  1744 000010BC C3                              	RET
  1745 000010BD                                 	GLOBAL	_hrb_api_linewin
  1746 000010BD                                 _hrb_api_linewin:
  1747 000010BD 55                              	PUSH	EBP
  1748 000010BE 89 E5                           	MOV	EBP,ESP
  1749 000010C0 57                              	PUSH	EDI
  1750 000010C1 56                              	PUSH	ESI
  1751 000010C2 53                              	PUSH	EBX
  1752 000010C3 83 EC 0C                        	SUB	ESP,12
  1753 000010C6 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1754 000010C9 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1755 000010CC 89 D9                           	MOV	ECX,EBX
  1756 000010CE 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1757 000010D1 C1 E1 0A                        	SAL	ECX,10
  1758 000010D4 89 D7                           	MOV	EDI,EDX
  1759 000010D6 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1760 000010D9 89 C6                           	MOV	ESI,EAX
  1761 000010DB 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1762 000010DE 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1763 000010E1 C1 E1 0A                        	SAL	ECX,10
  1764 000010E4 29 DE                           	SUB	ESI,EBX
  1765 000010E6 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1766 000010E9 0F 88 000000A3                  	JS	L334
  1767 000010EF                                 L313:
  1768 000010EF 85 FF                           	TEST	EDI,EDI
  1769 000010F1 0F 88 00000094                  	JS	L335
  1770 000010F7                                 L314:
  1771 000010F7 39 FE                           	CMP	ESI,EDI
  1772 000010F9 7C 62                           	JL	L315
  1773 000010FB 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1774 000010FE 39 C3                           	CMP	EBX,EAX
  1775 00001100 BE FFFFFC00                     	MOV	ESI,-1024
  1776 00001105 7F 05                           	JG	L317
  1777 00001107 BE 00000400                     	MOV	ESI,1024
  1778 0000110C                                 L317:
  1779 0000110C 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1780 0000110F 7F 46                           	JG	L318
  1781 00001111 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1782 00001114 42                              	INC	EDX
  1783 00001115                                 L333:
  1784 00001115 C1 E2 0A                        	SAL	EDX,10
  1785 00001118 89 D0                           	MOV	EAX,EDX
  1786 0000111A 99                              	CDQ
  1787 0000111B F7 F9                           	IDIV	ECX
  1788 0000111D 89 C7                           	MOV	EDI,EAX
  1789 0000111F                                 L320:
  1790 0000111F 85 C9                           	TEST	ECX,ECX
  1791 00001121 7E 2C                           	JLE	L331
  1792 00001123 89 CB                           	MOV	EBX,ECX
  1793 00001125                                 L329:
  1794 00001125 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1795 00001128 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1796 0000112B C1 F8 0A                        	SAR	EAX,10
  1797 0000112E 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1798 00001131 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1799 00001135 C1 F9 0A                        	SAR	ECX,10
  1800 00001138 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1801 0000113B 8B 0A                           	MOV	ECX,DWORD [EDX]
  1802 0000113D 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1803 00001140 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1804 00001143 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1805 00001146 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1806 00001149 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1807 0000114C 4B                              	DEC	EBX
  1808 0000114D 75 D6                           	JNE	L329
  1809 0000114F                                 L331:
  1810 0000114F 83 C4 0C                        	ADD	ESP,12
  1811 00001152 5B                              	POP	EBX
  1812 00001153 5E                              	POP	ESI
  1813 00001154 5F                              	POP	EDI
  1814 00001155 5D                              	POP	EBP
  1815 00001156 C3                              	RET
  1816 00001157                                 L318:
  1817 00001157 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1818 0000115A 4A                              	DEC	EDX
  1819 0000115B EB B8                           	JMP	L333
  1820 0000115D                                 L315:
  1821 0000115D 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1822 00001160 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1823 00001163 BF FFFFFC00                     	MOV	EDI,-1024
  1824 00001168 7F 05                           	JG	L322
  1825 0000116A BF 00000400                     	MOV	EDI,1024
  1826 0000116F                                 L322:
  1827 0000116F 39 C3                           	CMP	EBX,EAX
  1828 00001171 7F 11                           	JG	L323
  1829 00001173 29 D8                           	SUB	EAX,EBX
  1830 00001175 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1831 00001178                                 L332:
  1832 00001178 C1 E2 0A                        	SAL	EDX,10
  1833 0000117B 89 D0                           	MOV	EAX,EDX
  1834 0000117D 99                              	CDQ
  1835 0000117E F7 F9                           	IDIV	ECX
  1836 00001180 89 C6                           	MOV	ESI,EAX
  1837 00001182 EB 9B                           	JMP	L320
  1838 00001184                                 L323:
  1839 00001184 29 D8                           	SUB	EAX,EBX
  1840 00001186 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1841 00001189 EB ED                           	JMP	L332
  1842 0000118B                                 L335:
  1843 0000118B F7 DF                           	NEG	EDI
  1844 0000118D E9 FFFFFF65                     	JMP	L314
  1845 00001192                                 L334:
  1846 00001192 F7 DE                           	NEG	ESI
  1847 00001194 E9 FFFFFF56                     	JMP	L313
